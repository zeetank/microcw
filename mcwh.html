<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Micro Cash Decision Wheel (Single‑File)</title>
<style>
  :root{
    --bg:#0b1220;--bg2:#0e1526;--panel:#121b30;--muted:#9fb0d6;--text:#e6eaf5;--accent:#68d391;--accent2:#60a5fa;--warn:#f59e0b;--danger:#ef4444;--border:#27324b;
  }
  *{box-sizing:border-box} html,body{height:100%}
  body{margin:0;font-family:system-ui,Segoe UI,Roboto,Ubuntu,Cantarell,Arial;background:linear-gradient(180deg,var(--bg),var(--bg2));color:var(--text)}
  .wrap{max-width:1100px;margin:24px auto;padding:0 16px}
  h1{margin:0 0 6px;font-size:28px}
  p.lead{margin:0 0 18px;color:var(--muted)}
  .tabs{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px}
  .tab-btn{border:1px solid var(--border);background:#10192c;color:var(--text);padding:8px 12px;border-radius:12px;cursor:pointer}
  .tab-btn.active{background:#17223b;border-color:#7381a3}
  .tab{display:none}
  .tab.active{display:block}
  .grid{display:grid;gap:12px}
  .g3{grid-template-columns:repeat(3,minmax(0,1fr))}
  @media (max-width:900px){.g3{grid-template-columns:1fr}}
  .card{background:var(--panel);border:1px solid var(--border);border-radius:16px;box-shadow:0 6px 20px rgba(0,0,0,.25)}
  .card h3{margin:0;padding:14px 16px;border-bottom:1px solid var(--border);font-size:16px}
  .card .body{padding:14px 16px}
  label{font-size:12px;color:var(--muted)}
  input,select,textarea{width:100%;background:#0f1730;border:1px solid var(--border);color:var(--text);padding:10px;border-radius:10px}
  .row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
  .chips{display:flex;gap:6px;flex-wrap:wrap}
  .chip{background:#0f1730;border:1px solid var(--border);padding:8px 10px;border-radius:999px;font-size:12px;cursor:pointer}
  .chip.active{border-color:#b8c2df;background:#17223b}
  .btn{background:#1b2a49;color:var(--text);border:1px solid var(--border);padding:10px 14px;border-radius:12px;cursor:pointer}
  .btn.secondary{background:#0f1730}
  .btn.danger{background:#2a1420;border-color:#6d273d}
  .badge{display:inline-block;font-size:12px;padding:6px 8px;border-radius:10px;background:#0f1730;border:1px solid var(--border);}
  .muted{color:var(--muted)}
  table{width:100%;border-collapse:collapse;font-size:13px}
  th,td{padding:8px;border-top:1px solid var(--border)} th{color:var(--muted);text-align:left}
  .small{font-size:12px}
</style>
</head>
<body>
  <div class="wrap">
    <h1>Micro Cash Decision Wheel</h1>
    <p class="lead">Value‑first, disciplined framework for micro‑stakes NLHE. Think in BBs, commit by plan, not by impulse.</p>

    <div class="tabs">
      <button class="tab-btn active" data-tab="decision">Decision</button>
      <button class="tab-btn" data-tab="expl">Explanations</button>
      <button class="tab-btn" data-tab="quick">Quick Ref</button>
      <button class="tab-btn" data-tab="ranges">Ranges</button>
      <button class="tab-btn" data-tab="logger">Hand Logger</button>
      <button class="tab-btn" data-tab="mobile">One‑Tap</button>
    </div>

    <!-- Decision Tab -->
    <div class="tab active" id="decision">
      <div class="grid g3">
        <div class="card">
          <h3>Session Settings</h3>
          <div class="body">
            <div>
              <label>Stack Size (BB)</label>
              <div class="row" style="grid-template-columns: 1fr auto; align-items:center;">
                <input id="stackBB" type="number" value="100"/>
                <div class="chips">
                  <span class="chip qbb" data-v="40">40bb</span>
                  <span class="chip qbb" data-v="60">60bb</span>
                  <span class="chip qbb" data-v="80">80bb</span>
                  <span class="chip qbb" data-v="100">100bb</span>
                  <span class="chip qbb" data-v="150">150bb</span>
                </div>
              </div>
            </div>
            <div class="row">
              <div>
                <label>Position</label>
                <select id="position">
                  <option value="ep">UTG/EP</option>
                  <option value="mp">MP</option>
                  <option value="co" selected>CO</option>
                  <option value="btn">BTN</option>
                  <option value="sb">SB</option>
                  <option value="bb">BB</option>
                </select>
              </div>
              <div>
                <label>Villain Type</label>
                <select id="villain">
                  <option value="station">Loose‑Passive (Station)</option>
                  <option value="reg" selected>Average Reg</option>
                  <option value="nit">Nit / Tight‑Passive</option>
                  <option value="maniac">Aggro / Maniac</option>
                </select>
              </div>
            </div>
            <div class="row">
              <div>
                <label>Board Texture</label>
                <select id="texture">
                  <option value="dry" selected>Dry / Disconnected</option>
                  <option value="wet">Wet / Draw‑Heavy</option>
                </select>
              </div>
              <div>
                <label>Open Size (x BB)</label>
                <input id="openSize" type="number" step="0.5" value="2.5"/>
                <div class="small muted">Defaults — EP/MP 3x, CO/BTN 2.5x, SB 3x.</div>
              </div>
            </div>
          </div>
        </div>

        <div class="card">
          <h3>Hand Category</h3>
          <div class="body">
            <div class="chips" id="handChips"></div>
            <div class="small muted" id="capBaseNote" style="margin-top:8px"></div>
          </div>
        </div>

        <div class="card">
          <h3>Plan & Sizing</h3>
          <div class="body">
            <div class="row">
              <div>
                <div><span class="badge">3‑bet IP</span> <span id="ip3bet">—</span></div>
                <div class="small muted">× open size (vs 2.5x → 7.5x)</div>
              </div>
              <div>
                <div><span class="badge">3‑bet OOP</span> <span id="oop3bet">—</span></div>
                <div class="small muted">× open size (vs 2.5x → 8.75x)</div>
              </div>
            </div>
            <div style="margin-top:10px">
              <div class="badge">Max Commitment (adjusted)</div>
              <div style="font-size:22px;margin-top:6px"><span id="capPct">—</span>% • <span id="capBB">—</span>bb</div>
              <div class="small muted">Villain type modifies cap. Don’t exceed without a strong read.</div>
            </div>
            <div style="margin-top:12px">
              <div class="badge">Bet Bands</div>
              <div class="small" style="margin-top:6px">Flop: <span id="flopBand">—</span> • Turn: <span id="turnBand">—</span> • River: <span id="riverBand">—</span></div>
              <div class="small muted" id="patternNote" style="margin-top:6px"></div>
            </div>
            <div style="margin-top:12px" class="small muted">Think in BBs, not dollars. If an action pushes you beyond the cap, you need a compelling read to proceed.</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Explanations Tab -->
    <div class="tab" id="expl">
      <div class="grid g3">
        <div class="card"><h3>Core Lens at Micros</h3><div class="body small">
          <p><b>Value over fancy:</b> Pools call too wide → print by betting big with hands that are clearly ahead.</p>
          <p><b>Exploit over balance:</b> You don’t need to protect a GTO defense frequency when opponents under‑bluff.</p>
          <p><b>BB as the unit of truth:</b> Decide in BBs, not dollars.</p>
          <p><b>Pre‑plan commitment:</b> Set a % cap before facing heat; avoid accidental pot‑commitment.</p>
        </div></div>
        <div class="card"><h3>Why the % Caps</h3><div class="body small">
          <ul>
            <li><b>Equity vs continuing ranges:</b> One‑pair hands shrink vs. big turn/river aggression → cap ~50–60% for TPTK, ~20% for weak pairs.</li>
            <li><b>Pot‑commitment math:</b> Crossing ~60–70% often forces calls later.</li>
            <li><b>Reverse implied odds:</b> Flushes on paired boards & 2nd‑nut hands lose big → smaller pots.</li>
            <li><b>Villain multipliers:</b> Stations ×1.1 (more value), Nits ×0.85 (overfold more).</li>
          </ul>
        </div></div>
        <div class="card"><h3>Street‑by‑Street Goals</h3><div class="body small">
          <p><b>Flop:</b> Extract value; bet bigger on wet boards; limit air c‑bets.</p>
          <p><b>Turn:</b> Polarize clean runouts; slow on scare cards; sanity‑check cap.</p>
          <p><b>River:</b> Thin honest value; rare bluffs unless villain over‑folds; never call “because pot is big.”</p>
        </div></div>
        <div class="card" style="grid-column:1/-1"><h3>Hand Category Notes</h3><div class="body small">
          <p><b>Top Two+ / Sets:</b> Build pot early; no fear of stacks in single‑raised pots; size up multiway.</p>
          <p><b>Overpairs / TPTK:</b> TPTK ≠ stack hand; respect raises; pot‑control on wet textures.</p>
          <p><b>Flushes / Straights:</b> Nutty → push; paired board → slow; 2nd‑nut → value but fold more to heat.</p>
          <p><b>Draws:</b> Semi‑bluff where folds exist; otherwise take price; backdoors alone rarely justify barrels.</p>
        </div></div>
      </div>
    </div>

    <!-- Quick Ref Tab -->
    <div class="tab" id="quick">
      <div class="grid g3">
        <div class="card"><h3>Preflop Cheatsheet</h3><div class="body small">
          <p><b>Open Sizes:</b> UTG/MP 3x • CO/BTN 2.5x • SB (iso) 3x</p>
          <p><b>3‑Bets:</b> IP 3× open • OOP 3.5× open (value heavy at micros)</p>
          <p><b>Facing 3‑Bets:</b> If call > 10% stack → continue only with premiums or set‑mining odds. OOP tighten more.</p>
        </div></div>
        <div class="card"><h3>Default Postflop Bets</h3><div class="body small">
          <p><b>Flop:</b> Dry 50–70% • Wet 70–90%</p>
          <p><b>Turn:</b> 60–80% (slow on scare cards)</p>
          <p><b>River:</b> 70–100% for value; bluffs selective</p>
        </div></div>
      </div>
    </div>

    <!-- Ranges Tab -->
    <div class="tab" id="ranges">
      <div class="grid g3" id="rangeCards"></div>
    </div>

    <!-- Logger Tab -->
    <div class="tab" id="logger">
      <div class="grid g3">
        <div class="card" style="grid-column: span 2">
          <h3>Log Current Spot</h3>
          <div class="body">
            <label>Note (what happened / villain showed / why you deviated)</label>
            <textarea id="logNote" rows="4" placeholder="e.g., Called big river raise with TPTK; villain showed two pair"></textarea>
            <div class="chips" style="margin-top:10px">
              <button class="btn" id="saveLog">Save</button>
              <button class="btn danger" id="saveBroke">Save as BROKE CAP</button>
              <button class="btn secondary" id="exportCSV">Export CSV</button>
              <button class="btn secondary" id="clearLogs">Clear Logs</button>
            </div>
          </div>
        </div>
        <div class="card">
          <h3>Tips</h3>
          <div class="body small">
            <p>Use the logger to flag review spots. Anything marked <b>BROKE CAP</b> is priority for leak fixing.</p>
          </div>
        </div>
        <div class="card" style="grid-column:1/-1">
          <h3>Recent Logs</h3>
          <div class="body">
            <div style="overflow:auto">
              <table id="logTable">
                <thead><tr><th>Time</th><th>Pos</th><th>Villain</th><th>Tex</th><th>Hand</th><th>Cap%</th><th>CapBB</th><th>Note</th></tr></thead>
                <tbody></tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Mobile One‑Tap Tab -->
    <div class="tab" id="mobile">
      <div class="card"><h3>One‑Tap Mode</h3><div class="body">
        <p class="small muted">Big targets for fast use on mobile. Tap to set hand category, stack, texture, and position.</p>
        <div class="chips" id="quickHands" style="margin-bottom:8px"></div>
        <div class="chips" id="quickStacks" style="margin-bottom:8px"></div>
        <div class="chips" id="quickTex" style="margin-bottom:8px"></div>
        <div class="chips" id="quickPos" style="margin-bottom:8px"></div>
        <div class="card" style="margin-top:8px"><div class="body">
          <div style="font-size:18px"><b>Max Commit:</b> <span id="mCapPct">—</span>% • <span id="mCapBB">—</span>bb</div>
          <div class="small" style="margin-top:6px">Open: <span id="mOpen">—</span>x • 3‑bet IP: 3× • 3‑bet OOP: 3.5×</div>
          <div class="small" style="margin-top:4px">Flop <span id="mFlop">—</span> • Turn 60–80% • River 70–100%</div>
          <div class="small muted" id="mPattern" style="margin-top:6px"></div>
          <div class="chips" style="margin-top:8px"><button class="btn" id="mSave">Quick Save</button><button class="btn danger" id="mSaveBroke">Save BROKE CAP</button></div>
        </div></div>
      </div></div>
    </div>

    <div class="small muted" style="text-align:center;margin:16px 0">Tip: Adjust villain type to see how your BB cap changes. Stick to the cap unless you have a specific exploit.</div>
  </div>

<script>
// --- Data ---
const HAND_PROFILES = [
  { key:"top_two_plus", label:"Top Two / Sets / Better", color:"#16a34a", maxPct:100, defaultPattern:"Bet big across streets, willing to stack off."},
  { key:"overpair_strong", label:"Overpair (JJ–AA)", color:"#22c55e", maxPct:65, defaultPattern:"Value 2–3 streets; fold to extreme strength on scary runouts."},
  { key:"tptk", label:"Top Pair / Top Kicker", color:"#eab308", maxPct:55, defaultPattern:"Value bet on clean boards; pot‑control on wet textures."},
  { key:"second_pair_or_worse", label:"Second Pair / Weak One Pair", color:"#f59e0b", maxPct:20, defaultPattern:"Thin value vs stations; otherwise bluff‑catcher; avoid big pots."},
  { key:"nut_flush_straight", label:"Nut Flush / Nut Straight", color:"#059669", maxPct:100, defaultPattern:"Fast‑play; avoid slowplaying multiway."},
  { key:"flush_paired_board", label:"Flush on Paired Board", color:"#ea580c", maxPct:50, defaultPattern:"Pot control; call more than raise unless villain is spewy."},
  { key:"second_nut_flush_straight", label:"2nd‑Nut Flush / Weak Straight", color:"#f97316", maxPct:50, defaultPattern:"Keep pot manageable; target worse calls; be cautious vs raises."},
  { key:"combo_draw", label:"Strong Draw (Combo)", color:"#0284c7", maxPct:30, defaultPattern:"Semi‑bluff when there’s fold equity; realize equity when cheap."},
  { key:"weak_draw", label:"Weak Draw / Backdoors", color:"#38bdf8", maxPct:10, defaultPattern:"Prefer folding to pressure; take cheap cards only."}
];
const VILLAIN_ADJ = { station:1.1, reg:1.0, nit:0.85, maniac:1.0 };
const OPEN_DEFAULTS = { ep:3, mp:3, co:2.5, btn:2.5, sb:3, bb:2.5 };
const RANGES = {
  ep:{open:"77+, ATs+, KQs, AJo+, KQo", flat:"22–66 set mine; A5s–A2s vs tight opens (rare)", threeBet:"QQ+, AK"},
  mp:{open:"66+, ATs+, KQs, AJo+, KQo, QJs, JTs", flat:"22–55 set mine; A5s–A2s vs EP/MP", threeBet:"JJ+, AK; AQ vs late"},
  co:{open:"22+, A2s+, K9s+, Q9s+, J9s+, T9s–65s, ATo+, KJo+, QJo", flat:"Suited broadways, pairs, Axs vs EP/MP", threeBet:"TT+/AK value; A5s–A2s/KQs bluff mix"},
  btn:{open:"22+, A2s+, K7s+, Q8s+, J8s+, T8s–54s, A9o+, KTo+, QTo+, JTo", flat:"Most suited broadways/connectors", threeBet:"99+/AQ+ value; A5s–A2s/KQo mix"},
  sb:{open:"Iso 3x over limps: value‑heavy (Axs, Kxs, broadways, pairs)", flat:"Tight OOP; complete multiway w/ odds", threeBet:"JJ+/AK; add AQs/TT vs steals"},
  bb:{open:"—", flat:"Defend vs steals: suited broadways, suited aces, 98s+, pairs; tighten vs large size", threeBet:"QQ+/AK vs EP; widen vs late (AJs+, KQs, TT+)"}
};

// --- State ---
const $ = (q)=>document.querySelector(q);
const $$ = (q)=>Array.from(document.querySelectorAll(q));
const state = {
  stackBB:100, position:'co', villain:'reg', texture:'dry', openSize:2.5, handKey:'tptk', log:[]
};

// --- UI init ---
function initTabs(){
  $$('.tab-btn').forEach(btn=>btn.addEventListener('click',()=>{
    $$('.tab-btn').forEach(b=>b.classList.remove('active')); btn.classList.add('active');
    $$('.tab').forEach(t=>t.classList.remove('active')); $('#'+btn.dataset.tab).classList.add('active');
  }));
}

function initHandChips(){
  const box = $('#handChips'); box.innerHTML = '';
  HAND_PROFILES.forEach(h=>{
    const el = document.createElement('span'); el.className='chip'; el.textContent=h.label; el.style.borderColor='#2a3758';
    el.addEventListener('click',()=>{ state.handKey=h.key; updateAll(); highlightHands(); });
    el.dataset.key=h.key; box.appendChild(el);
  });
  highlightHands();
}
function highlightHands(){
  $$('#handChips .chip').forEach(c=>c.classList.toggle('active', c.dataset.key===state.handKey));
}

function initQuick(){
  $$('.qbb').forEach(el=>el.addEventListener('click',()=>{ state.stackBB=Number(el.dataset.v); $('#stackBB').value=state.stackBB; updateAll(); }));
  const qh = $('#quickHands'); const qs = $('#quickStacks'); const qt = $('#quickTex'); const qp = $('#quickPos');
  qh.innerHTML=''; HAND_PROFILES.forEach(h=>{ const b=document.createElement('button'); b.className='btn secondary'; b.textContent=h.label.split(' ')[0]; b.onclick=()=>{state.handKey=h.key; updateAll(); highlightHands();}; qh.appendChild(b); });
  qs.innerHTML=''; [40,60,80,100].forEach(v=>{ const b=document.createElement('button'); b.className='btn secondary'; b.textContent=v+'bb'; b.onclick=()=>{state.stackBB=v; $('#stackBB').value=v; updateAll();}; qs.appendChild(b); });
  qt.innerHTML=''; ['dry','wet'].forEach(v=>{ const b=document.createElement('button'); b.className='btn secondary'; b.textContent=v; b.onclick=()=>{state.texture=v; $('#texture').value=v; updateAll();}; qt.appendChild(b); });
  qp.innerHTML=''; ['ep','mp','co','btn','sb','bb'].forEach(v=>{ const b=document.createElement('button'); b.className='btn secondary'; b.textContent=v.toUpperCase(); b.onclick=()=>{state.position=v; $('#position').value=v; state.openSize=OPEN_DEFAULTS[v]||2.5; $('#openSize').value=state.openSize; updateAll();}; qp.appendChild(b); });
  $('#mSave').onclick=()=>saveLog(false);
  $('#mSaveBroke').onclick=()=>saveLog(true);
}

function initInputs(){
  $('#stackBB').addEventListener('input',e=>{ state.stackBB = Number(e.target.value||0); updateAll(); });
  $('#position').addEventListener('change',e=>{ state.position=e.target.value; state.openSize=OPEN_DEFAULTS[state.position]||2.5; $('#openSize').value=state.openSize; updateAll(); });
  $('#villain').addEventListener('change',e=>{ state.villain=e.target.value; updateAll(); });
  $('#texture').addEventListener('change',e=>{ state.texture=e.target.value; updateBands(); updateMobilePanel(); });
  $('#openSize').addEventListener('input',e=>{ state.openSize = Number(e.target.value||0); update3bet(); });
  $('#saveLog').onclick=()=>saveLog(false);
  $('#saveBroke').onclick=()=>saveLog(true);
  $('#exportCSV').onclick=exportCSV;
  $('#clearLogs').onclick=clearLogs;
}

function pctCap(){
  const prof = HAND_PROFILES.find(h=>h.key===state.handKey);
  let pct = prof.maxPct * (VILLAIN_ADJ[state.villain]||1);
  pct = Math.max(5, Math.min(100, Math.round(pct)));
  return { pct, bb: Math.round(state.stackBB * pct / 100), pattern: prof.defaultPattern, base: prof.maxPct };
}

function update3bet(){
  const ip = (3.0 * state.openSize).toFixed(1);
  const oop = (3.5 * state.openSize).toFixed(1);
  $('#ip3bet').textContent = ip + '×';
  $('#oop3bet').textContent = oop + '×';
  $('#mOpen').textContent = state.openSize.toFixed(1);
}
function updateBands(){
  const flop = state.texture==='dry'? '50–70%' : '70–90%';
  $('#flopBand').textContent = flop;
  $('#turnBand').textContent = '60–80%';
  $('#riverBand').textContent = '70–100%';
}
function updatePlan(){
  const cap = pctCap();
  $('#capPct').textContent = cap.pct; $('#capBB').textContent = cap.bb;
  $('#capBaseNote').textContent = `Cap before villain adj: ${cap.base}%`;
  $('#patternNote').textContent = 'Pattern: ' + cap.pattern;
}
function updateMobilePanel(){
  const cap = pctCap();
  $('#mCapPct').textContent = cap.pct; $('#mCapBB').textContent = cap.bb; $('#mPattern').textContent = 'Pattern: '+cap.pattern;
  $('#mFlop').textContent = state.texture==='dry'? '50–70%' : '70–90%';
}

function updateRanges(){
  const box = $('#rangeCards'); box.innerHTML='';
  Object.entries(RANGES).forEach(([pos,data])=>{
    const c = document.createElement('div'); c.className='card';
    c.innerHTML = `<h3>${pos==='bb'?'Big Blind':pos.toUpperCase()} Ranges</h3>
      <div class="body small">
        <p><b>Open:</b> ${data.open}</p>
        <p><b>Flat / Defend:</b> ${data.flat}</p>
        <p><b>3‑Bet:</b> ${data.threeBet}</p>
      </div>`;
    box.appendChild(c);
  });
}

// --- Logger ---
const LS_KEY = 'mcw_logs_v1';
function loadLogs(){ try{ state.log = JSON.parse(localStorage.getItem(LS_KEY)||'[]'); }catch{ state.log=[]; } renderLogs(); }
function saveLog(broke){
  const cap = pctCap();
  const note = (broke? 'BROKE CAP — ' : '') + ($('#logNote').value||'');
  const item = { id:Date.now(), time:new Date().toLocaleString(), pos:state.position, villain:state.villain, texture:state.texture, handKey:state.handKey, capPct:cap.pct, capBB:cap.bb, note };
  state.log.unshift(item); localStorage.setItem(LS_KEY, JSON.stringify(state.log)); $('#logNote').value=''; renderLogs();
}
function renderLogs(){
  const tbody = $('#logTable tbody'); tbody.innerHTML='';
  if(!state.log.length){ tbody.innerHTML='<tr><td colspan="8" class="muted small">No logs yet.</td></tr>'; return; }
  state.log.forEach(l=>{
    const prof = HAND_PROFILES.find(h=>h.key===l.handKey);
    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${l.time}</td><td>${l.pos.toUpperCase()}</td><td>${l.villain}</td><td>${l.texture}</td><td>${prof?prof.label:l.handKey}</td><td>${l.capPct}%</td><td>${l.capBB}bb</td><td title="${l.note.replace(/"/g,'&quot;')}">${l.note}</td>`;
    tbody.appendChild(tr);
  });
}
function exportCSV(){
  const header = ['time','position','villain','texture','hand','cap_pct','cap_bb','note'];
  const rows = state.log.map(l=>[l.time,l.pos,l.villain,l.texture,l.handKey,l.capPct,l.capBB,`"${(l.note||'').replaceAll('"','\"')}"`]);
  const csv = [header.join(','), ...rows.map(r=>r.join(','))].join('\n');
  const blob = new Blob([csv],{type:'text/csv;charset=utf-8;'}); const url = URL.createObjectURL(blob);
  const a = document.createElement('a'); a.href=url; a.download='micro_cash_log.csv'; a.click(); URL.revokeObjectURL(url);
}
function clearLogs(){ if(confirm('Delete all logs?')){ state.log=[]; localStorage.removeItem(LS_KEY); renderLogs(); } }

// --- Boot ---
function updateAll(){ update3bet(); updateBands(); updatePlan(); updateMobilePanel(); }
function starterData(){
  // Example starter logs
  if(!localStorage.getItem(LS_KEY)){
    state.log = [
      {id:Date.now()-20000,time:new Date(Date.now()-86400000).toLocaleString(),pos:'co',villain:'station',texture:'wet',handKey:'tptk',capPct:61,capBB:61,note:'Value bet turn; folded to river raise'},
      {id:Date.now()-10000,time:new Date(Date.now()-43200000).toLocaleString(),pos:'btn',villain:'nit',texture:'dry',handKey:'overpair_strong',capPct:55,capBB:55,note:'Took two streets; checked back river'}
    ];
    localStorage.setItem(LS_KEY, JSON.stringify(state.log));
  }
}

window.addEventListener('DOMContentLoaded',()=>{
  initTabs(); initHandChips(); initQuick(); initInputs(); updateRanges(); loadLogs(); starterData(); updateAll();
  // Sync open size default when position changes quickly
  $('#position').dispatchEvent(new Event('change'));
});
</script>
</body>
</html>
